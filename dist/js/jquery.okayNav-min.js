/*!
 * jquery.okayNav.js 1.0.2 (https://github.com/VPenkov/okayNav)
 * Author: Vergil Penkov (http://vergilpenkov.com/)
 * MIT license: https://opensource.org/licenses/MIT
*/
!function(n,i,a,o){function e(o,e){this.options=n.extend({},v,e),_okayNav=this,_invisibleNavState=!1,_options=this.options,$document=n(a),$body=n("body"),$window=n(i),$navigation=n(o),""==this.options.parent?this.options.parent=$navigation.parent():"",_okayNav.init()}var t="okayNav",v={parent:"",toggle_icon_class:"okayNav__menu-toggle",toggle_icon_content:"<span /><span /><span />",beforeopen:function(){},open:function(){},beforeclose:function(){},close:function(){}};e.prototype={init:function(){_okayNav.setupElements($navigation),$nav_visible=$navigation.children(".okayNav__nav--visible"),$nav_invisible=$navigation.children(".okayNav__nav--invisible"),$nav_toggle_icon=$navigation.children("."+_options.toggle_icon_class),_nav_toggle_icon_width=$nav_toggle_icon.outerWidth(!0),_last_visible_child_width=0,_okayNav.initEvents()},setupElements:function(n){$body.addClass("okayNav-loaded"),$navigation.children("ul").addClass("okayNav__nav--visible"),$navigation.append('<ul class="okayNav__nav--invisible" />').append('<a href="#" class="'+_options.toggle_icon_class+'">'+_options.toggle_icon_content+"</a>")},initEvents:function(){$document.on("click.okayNav","."+_options.toggle_icon_class,function(n){n.preventDefault(),_okayNav.toggleInvisibleNav()}),$document.on("click.okayNav",function(i){if(_invisibleNavState===!0){var a=n(i.target);a.parents().hasClass("okayNav")||_okayNav.closeInvisibleNav()}});var i=_okayNav.windowResize(function(){_okayNav.recalcNav()},50);$window.on("load.okayNav resize.okayNav",i),$window.one("load",function(n){$navigation.addClass("okayNav loaded")})},getParent:function(){return _options.parent},getVisibleNav:function(){return $nav_visible},getInvisibleNav:function(){return $nav_invisible},getNavToggleIcon:function(){return $nav_toggle_icon},openInvisibleNav:function(){_options.beforeopen.call(),$nav_toggle_icon.addClass("icon--active"),$nav_invisible.addClass("nav-open"),_invisibleNavState=!0,_options.open.call(),$document.trigger("okayNav:open")},closeInvisibleNav:function(){_options.beforeclose.call(),$nav_toggle_icon.removeClass("icon--active"),$nav_invisible.removeClass("nav-open"),_invisibleNavState=!1,_options.close.call(),$document.trigger("okayNav:close")},toggleInvisibleNav:function(){_invisibleNavState?(_invisibleNavState=!1,_okayNav.closeInvisibleNav()):(_invisibleNavState=!0,_okayNav.openInvisibleNav())},windowResize:function(n,i,a){var o;return function(){var e=this,t=arguments,v=function(){o=null,a||n.apply(e,t)},l=a&&!o;clearTimeout(o),o=setTimeout(v,i),l&&n.apply(e,t)}},getParentWidth:function(i){var a=i||_options.parent,o=n(a).outerWidth(!0);return o},getChildrenWidth:function(i){var a=0;return n(i).children().each(function(){a+=n(this).outerWidth(!0)}),a},countNavItems:function(i){var a=n(i),o=n("li",a).length;return o},recalcNav:function(){var i=n(_options.parent).outerWidth(!0),a=$navigation.outerWidth(!0),o=_okayNav.countNavItems($nav_visible),e=$nav_visible.outerWidth(!0)+_nav_toggle_icon_width-1,t=_okayNav.getChildrenWidth(_options.parent)+_last_visible_child_width+_nav_toggle_icon_width-10;o>0&&e>=a&&_okayNav.collapseNavItem(),i>t&&_okayNav.expandNavItem(),0==n("li",$nav_invisible).length?$nav_toggle_icon.hide():$nav_toggle_icon.show()},collapseNavItem:function(){var i=n("li:last-child",$nav_visible);_last_visible_child_width=i.outerWidth(!0),i.detach().prependTo($nav_invisible),_okayNav.recalcNav(),$document.trigger("okayNav:collapseItem")},expandNavItem:function(){n("li:first-child",$nav_invisible).detach().appendTo($nav_visible),$document.trigger("okayNav:expandItem")},destroy:function(){n("li",$nav_invisible).appendTo($nav_visible),$nav_invisible.remove(),$nav_visible.removeClass("okayNav__nav--visible"),$nav_toggle_icon.remove(),$document.unbind(".okayNav"),n(i).unbind(".okayNav")}},n.fn[t]=function(i){var a=arguments;if(i===o||"object"==typeof i)return this.each(function(){n.data(this,"plugin_"+t)||n.data(this,"plugin_"+t,new e(this,i))});if("string"==typeof i&&"_"!==i[0]&&"init"!==i){var v;return this.each(function(){var o=n.data(this,"plugin_"+t);o instanceof e&&"function"==typeof o[i]&&(v=o[i].apply(o,Array.prototype.slice.call(a,1))),"destroy"===i&&n.data(this,"plugin_"+t,null)}),v!==o?v:this}}}(jQuery,window,document);